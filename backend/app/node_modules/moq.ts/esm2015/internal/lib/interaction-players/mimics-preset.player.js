import { GetPropertyInteraction, InOperatorInteraction, MethodInteraction, NamedMethodInteraction, SetPropertyInteraction } from "../interactions";
/**
 * @hidden
 */
export class MimicsPresetPlayer {
    constructor(apply) {
        this.apply = apply;
    }
    play(origin, interaction) {
        if (interaction instanceof GetPropertyInteraction) {
            return origin[interaction.name];
        }
        if (interaction instanceof SetPropertyInteraction) {
            origin[interaction.name] = interaction.value;
            return true;
        }
        if (interaction instanceof NamedMethodInteraction) {
            const method = origin[interaction.name];
            return this.apply(method, origin, interaction.args);
        }
        if (interaction instanceof MethodInteraction) {
            return this.apply(origin, undefined, interaction.args);
        }
        if (interaction instanceof InOperatorInteraction) {
            return interaction.name in origin;
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWltaWNzLXByZXNldC5wbGF5ZXIuanMiLCJzb3VyY2VSb290IjoiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbW9xL3NyYy8iLCJzb3VyY2VzIjpbImxpYi9pbnRlcmFjdGlvbi1wbGF5ZXJzL21pbWljcy1wcmVzZXQucGxheWVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxzQkFBc0IsRUFDdEIscUJBQXFCLEVBRXJCLGlCQUFpQixFQUNqQixzQkFBc0IsRUFDdEIsc0JBQXNCLEVBQ3pCLE1BQU0saUJBQWlCLENBQUM7QUFJekI7O0dBRUc7QUFDSCxNQUFNLE9BQU8sa0JBQWtCO0lBQzNCLFlBQ1ksS0FBaUQ7UUFBakQsVUFBSyxHQUFMLEtBQUssQ0FBNEM7SUFFN0QsQ0FBQztJQUVNLElBQUksQ0FBQyxNQUFXLEVBQUUsV0FBd0I7UUFDN0MsSUFBSSxXQUFXLFlBQVksc0JBQXNCLEVBQUU7WUFDL0MsT0FBTyxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ25DO1FBQ0QsSUFBSSxXQUFXLFlBQVksc0JBQXNCLEVBQUU7WUFDL0MsTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDO1lBQzdDLE9BQU8sSUFBSSxDQUFDO1NBQ2Y7UUFDRCxJQUFJLFdBQVcsWUFBWSxzQkFBc0IsRUFBRTtZQUMvQyxNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3hDLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUN2RDtRQUNELElBQUksV0FBVyxZQUFZLGlCQUFpQixFQUFFO1lBQzFDLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsU0FBUyxFQUFFLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUMxRDtRQUNELElBQUksV0FBVyxZQUFZLHFCQUFxQixFQUFFO1lBQzlDLE9BQU8sV0FBVyxDQUFDLElBQUksSUFBSSxNQUFNLENBQUM7U0FDckM7SUFFTCxDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICAgIEdldFByb3BlcnR5SW50ZXJhY3Rpb24sXG4gICAgSW5PcGVyYXRvckludGVyYWN0aW9uLFxuICAgIEludGVyYWN0aW9uLFxuICAgIE1ldGhvZEludGVyYWN0aW9uLFxuICAgIE5hbWVkTWV0aG9kSW50ZXJhY3Rpb24sXG4gICAgU2V0UHJvcGVydHlJbnRlcmFjdGlvblxufSBmcm9tIFwiLi4vaW50ZXJhY3Rpb25zXCI7XG5pbXBvcnQgeyBSRUZMRUNUX0FQUExZIH0gZnJvbSBcIi4vcmVmbGVjdC1hcHBseS5pbmplY3Rpb24tdG9rZW5cIjtcbmltcG9ydCB7IFR5cGVvZkluamVjdGlvblRva2VuIH0gZnJvbSBcIi4uL3R5cGVvZi1pbmplY3Rpb24tdG9rZW5cIjtcblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBjbGFzcyBNaW1pY3NQcmVzZXRQbGF5ZXIge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGFwcGx5OiBUeXBlb2ZJbmplY3Rpb25Ub2tlbjx0eXBlb2YgUkVGTEVDVF9BUFBMWT4pIHtcblxuICAgIH1cblxuICAgIHB1YmxpYyBwbGF5KG9yaWdpbjogYW55LCBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24pOiBhbnkge1xuICAgICAgICBpZiAoaW50ZXJhY3Rpb24gaW5zdGFuY2VvZiBHZXRQcm9wZXJ0eUludGVyYWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luW2ludGVyYWN0aW9uLm5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnRlcmFjdGlvbiBpbnN0YW5jZW9mIFNldFByb3BlcnR5SW50ZXJhY3Rpb24pIHtcbiAgICAgICAgICAgIG9yaWdpbltpbnRlcmFjdGlvbi5uYW1lXSA9IGludGVyYWN0aW9uLnZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludGVyYWN0aW9uIGluc3RhbmNlb2YgTmFtZWRNZXRob2RJbnRlcmFjdGlvbikge1xuICAgICAgICAgICAgY29uc3QgbWV0aG9kID0gb3JpZ2luW2ludGVyYWN0aW9uLm5hbWVdO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXBwbHkobWV0aG9kLCBvcmlnaW4sIGludGVyYWN0aW9uLmFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnRlcmFjdGlvbiBpbnN0YW5jZW9mIE1ldGhvZEludGVyYWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hcHBseShvcmlnaW4sIHVuZGVmaW5lZCwgaW50ZXJhY3Rpb24uYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludGVyYWN0aW9uIGluc3RhbmNlb2YgSW5PcGVyYXRvckludGVyYWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb24ubmFtZSBpbiBvcmlnaW47XG4gICAgICAgIH1cblxuICAgIH1cbn1cbiJdfQ==