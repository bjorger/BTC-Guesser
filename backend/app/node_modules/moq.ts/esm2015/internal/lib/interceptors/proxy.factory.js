/**
 * @hidden
 */
export class ProxyFactory {
    constructor(options, getTrap, setTrap, hasTrap, applyTrap, getPrototypeOfTrap, setPrototypeOfTrap) {
        this.options = options;
        this.getTrap = getTrap;
        this.setTrap = setTrap;
        this.hasTrap = hasTrap;
        this.applyTrap = applyTrap;
        this.getPrototypeOfTrap = getPrototypeOfTrap;
        this.setPrototypeOfTrap = setPrototypeOfTrap;
    }
    object() {
        if (this._proxy === undefined) {
            this._proxy = this.createObject();
        }
        return this._proxy;
    }
    createObject() {
        const options = {
            get: (target, name) => this.getTrap.intercept(name),
            set: (target, name, value) => this.setTrap.intercept(target, name, value),
            has: (target, name) => this.hasTrap.intercept(name),
            apply: (target, thisArg, args) => this.applyTrap.intercept(target, thisArg, args),
            getPrototypeOf: () => this.getPrototypeOfTrap.intercept(),
            setPrototypeOf: (target, prototype) => this.setPrototypeOfTrap.intercept(prototype)
        };
        if (this.options.name) {
            options["mockName"] = this.options.name;
        }
        return new Proxy(this.options.target, options);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJveHkuZmFjdG9yeS5qcyIsInNvdXJjZVJvb3QiOiIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9tb3Evc3JjLyIsInNvdXJjZXMiOlsibGliL2ludGVyY2VwdG9ycy9wcm94eS5mYWN0b3J5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVNBOztHQUVHO0FBQ0gsTUFBTSxPQUFPLFlBQVk7SUFHckIsWUFBb0IsT0FBa0QsRUFDbEQsT0FBZ0IsRUFDaEIsT0FBZ0IsRUFDaEIsT0FBZ0IsRUFDaEIsU0FBb0IsRUFDcEIsa0JBQXNDLEVBQ3RDLGtCQUFzQztRQU50QyxZQUFPLEdBQVAsT0FBTyxDQUEyQztRQUNsRCxZQUFPLEdBQVAsT0FBTyxDQUFTO1FBQ2hCLFlBQU8sR0FBUCxPQUFPLENBQVM7UUFDaEIsWUFBTyxHQUFQLE9BQU8sQ0FBUztRQUNoQixjQUFTLEdBQVQsU0FBUyxDQUFXO1FBQ3BCLHVCQUFrQixHQUFsQixrQkFBa0IsQ0FBb0I7UUFDdEMsdUJBQWtCLEdBQWxCLGtCQUFrQixDQUFvQjtJQUMxRCxDQUFDO0lBRU0sTUFBTTtRQUNULElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxTQUFTLEVBQUU7WUFDM0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7U0FDckM7UUFFRCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDdkIsQ0FBQztJQUVPLFlBQVk7UUFDaEIsTUFBTSxPQUFPLEdBQUc7WUFDWixHQUFHLEVBQUUsQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUM7WUFDbkQsR0FBRyxFQUFFLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDO1lBQ3pFLEdBQUcsRUFBRSxDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQztZQUNuRCxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUM7WUFDakYsY0FBYyxFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLEVBQUU7WUFDekQsY0FBYyxFQUFFLENBQUMsTUFBTSxFQUFFLFNBQVMsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUM7U0FDdEYsQ0FBQztRQUVGLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUU7WUFDbkIsT0FBTyxDQUFDLFVBQVUsQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDO1NBQzNDO1FBRUQsT0FBTyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztJQUNuRCxDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHZXRUcmFwIH0gZnJvbSBcIi4vZ2V0LnRyYXBcIjtcbmltcG9ydCB7IFNldFRyYXAgfSBmcm9tIFwiLi9zZXQudHJhcFwiO1xuaW1wb3J0IHsgQXBwbHlUcmFwIH0gZnJvbSBcIi4vYXBwbHkudHJhcFwiO1xuaW1wb3J0IHsgR2V0UHJvdG90eXBlT2ZUcmFwIH0gZnJvbSBcIi4vZ2V0LXByb3RvdHlwZS1vZi50cmFwXCI7XG5pbXBvcnQgeyBTZXRQcm90b3R5cGVPZlRyYXAgfSBmcm9tIFwiLi9zZXQtcHJvdG90eXBlLW9mLnRyYXBcIjtcbmltcG9ydCB7IEhhc1RyYXAgfSBmcm9tIFwiLi9oYXMudHJhcFwiO1xuaW1wb3J0IHsgTU9DS19PUFRJT05TIH0gZnJvbSBcIi4uL21vY2stb3B0aW9ucy9tb2NrLW9wdGlvbnMuaW5qZWN0aW9uLXRva2VuXCI7XG5pbXBvcnQgeyBUeXBlb2ZJbmplY3Rpb25Ub2tlbiB9IGZyb20gXCIuLi90eXBlb2YtaW5qZWN0aW9uLXRva2VuXCI7XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgY2xhc3MgUHJveHlGYWN0b3J5PFQ+IHtcbiAgICBwcml2YXRlIF9wcm94eTogVDtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgb3B0aW9uczogVHlwZW9mSW5qZWN0aW9uVG9rZW48dHlwZW9mIE1PQ0tfT1BUSU9OUz4sXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBnZXRUcmFwOiBHZXRUcmFwLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgc2V0VHJhcDogU2V0VHJhcCxcbiAgICAgICAgICAgICAgICBwcml2YXRlIGhhc1RyYXA6IEhhc1RyYXAsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBhcHBseVRyYXA6IEFwcGx5VHJhcCxcbiAgICAgICAgICAgICAgICBwcml2YXRlIGdldFByb3RvdHlwZU9mVHJhcDogR2V0UHJvdG90eXBlT2ZUcmFwLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgc2V0UHJvdG90eXBlT2ZUcmFwOiBTZXRQcm90b3R5cGVPZlRyYXApIHtcbiAgICB9XG5cbiAgICBwdWJsaWMgb2JqZWN0KCk6IFQge1xuICAgICAgICBpZiAodGhpcy5fcHJveHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fcHJveHkgPSB0aGlzLmNyZWF0ZU9iamVjdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3h5O1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlT2JqZWN0KCk6IFQge1xuICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgZ2V0OiAodGFyZ2V0LCBuYW1lKSA9PiB0aGlzLmdldFRyYXAuaW50ZXJjZXB0KG5hbWUpLFxuICAgICAgICAgICAgc2V0OiAodGFyZ2V0LCBuYW1lLCB2YWx1ZSkgPT4gdGhpcy5zZXRUcmFwLmludGVyY2VwdCh0YXJnZXQsIG5hbWUsIHZhbHVlKSxcbiAgICAgICAgICAgIGhhczogKHRhcmdldCwgbmFtZSkgPT4gdGhpcy5oYXNUcmFwLmludGVyY2VwdChuYW1lKSxcbiAgICAgICAgICAgIGFwcGx5OiAodGFyZ2V0LCB0aGlzQXJnLCBhcmdzKSA9PiB0aGlzLmFwcGx5VHJhcC5pbnRlcmNlcHQodGFyZ2V0LCB0aGlzQXJnLCBhcmdzKSxcbiAgICAgICAgICAgIGdldFByb3RvdHlwZU9mOiAoKSA9PiB0aGlzLmdldFByb3RvdHlwZU9mVHJhcC5pbnRlcmNlcHQoKSxcbiAgICAgICAgICAgIHNldFByb3RvdHlwZU9mOiAodGFyZ2V0LCBwcm90b3R5cGUpID0+IHRoaXMuc2V0UHJvdG90eXBlT2ZUcmFwLmludGVyY2VwdChwcm90b3R5cGUpXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5uYW1lKSB7XG4gICAgICAgICAgICBvcHRpb25zW1wibW9ja05hbWVcIl0gPSB0aGlzLm9wdGlvbnMubmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUHJveHkodGhpcy5vcHRpb25zLnRhcmdldCwgb3B0aW9ucyk7XG4gICAgfVxufVxuIl19